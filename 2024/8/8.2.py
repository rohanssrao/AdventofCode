print(len(set((y,x) for grid in ([list(l.strip()) for l in open(0)],) for antennas in ({ c: set((y, x) for y in range(len(grid)) for x in range(len(grid[y])) if grid[y][x] == c) for c in set(grid[y][x] for y in range(len(grid)) for x in range(len(grid[y]))) - set('.') },) for locs in antennas.values() for (y1, x1), (y2, x2) in __import__('itertools').permutations(locs, 2) for y,x in zip(*(range(s, e, d) for s, e, d in zip((y1 - len(grid)*(y2-y1), x1 - len(grid)*(x2-x1)), (y1 + len(grid)*(y2-y1), x1 + len(grid)*(x2-x1)), (y2-y1, x2-x1)))) if 0 <= y < len(grid) and 0 <= x < len(grid[0]) )))
