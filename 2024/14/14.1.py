(robots := [list(map(int, __import__("re").findall(r'-?\d+', l))) for l in open(0).readlines()], width := 101, height := 103, [(r.__setitem__(1, (r[1] + r[3]) % height), r.__setitem__(0, (r[0] + r[2]) % width)) for i in range(100) for r in robots], grid := [[0 for _ in range(width)] for _ in range(height)], [grid[p_y].__setitem__(p_x, grid[p_y][p_x] + 1) for p_x, p_y, v_x, v_y in robots], quadrants := [[l[start:start+width//2] for l in v_half] for v_half in (grid[:height//2], grid[height//2+1:]) for start in (0, width//2+1)], print(__import__("math").prod([sum(sum(l)for l in quadrant) for quadrant in quadrants])))
