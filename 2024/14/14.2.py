(robots := [list(map(int, __import__("re").findall(r'-?\d+', l))) for l in open(0).readlines()], width := 101, height := 103, tree := [1, 1, 1, 1, 1, 1, 1], i := 0, list(iter((lambda: (globals().__setitem__("i", i+1), [(r.__setitem__(1, (r[1] + r[3]) % height), r.__setitem__(0, (r[0] + r[2]) % width)) for r in robots], grid := [[0 for _ in range(width)] for _ in range(height)], [grid[p_y].__setitem__(p_x, grid[p_y][p_x] + 1) for p_x, p_y, v_x, v_y in robots], any(any(line[i:i + len(tree)] == tree for i in range(len(line) - len(tree) + 1)) for line in grid) and print(i) is None)[-1]), True)))
